[run]
branch = True
# Only measure our code, not plugins, not tests
source =
    AIBugBench
    src/AIBugBench
relative_files = True
parallel = True
concurrency = multiprocessing,thread
# Avoid noise when Phase 0 has little code exercised
disable_warnings = no-data-collected,already-imported
omit =
    tests/*
    scripts/*
    **/.venv/*
    **/venv/*
    **/__pypackages__/*
    **/site-packages/*
    **/node_modules/*

[paths]
# Unify paths so Codecov merges Windows/Linux/installed wheels
source =
    aibugbench
    src/aibugbench
    */site-packages/aibugbench

[report]
precision = 2
show_missing = True
skip_covered = False
# Phase-0: keep the bar modest. Raise later per phase or via CI flags.
fail_under = 15
exclude_lines =
    pragma: no cover
    if TYPE_CHECKING:
    @overload
    @abstractmethod
    raise NotImplementedError
    ^\s*pass\s*$
    ^\s*if __name__ == ["']__main__["']:$

[html]
directory = .coverage_html

[xml]
output = coverage.xml
